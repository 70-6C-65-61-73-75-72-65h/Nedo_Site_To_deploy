(this.webpackJsonpgeosite=this.webpackJsonpgeosite||[]).push([[0],{195:function(e,t,n){"use strict";n.r(t);var a,o=n(0),c=n.n(o),r=n(36),i=n.n(r),l=(n(92),n(93),n(5)),u=n(13),s=n(54),m=n.n(s),d=n(55),p=n.n(d),g=n(84),f=n(10),_={locationStatus:null,latitude:null,longitude:null,mapLinkScale:14,isFetchingLocation:!1,osmBaseLink:"https://www.openstreetmap.org/"},E=function(e){return{type:"SET_FETCHING_LOCATION",isFetchingLocation:e}},S=function(e){return{type:"SET_LOCATION_STATUS",locationStatus:e}},L="Unable to retrieve your location",b="Locating\u2026",v="Successfully located",h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FETCHING_LOCATION":return Object(f.a)(Object(f.a)({},e),{},{isFetchingLocation:t.isFetchingLocation});case"SET_LOCATION_STATUS":return Object(f.a)(Object(f.a)({},e),{},{locationStatus:t.locationStatus});case"SET_MY_LOCATION":return Object(f.a)(Object(f.a)({},e),{},{latitude:t.latitude,longitude:t.longitude});case"SET_MAP_LINK_SCALE":return Object(f.a)(Object(f.a)({},e),{},{mapLinkScale:t.mapLinkScale});default:return e}},O=function(e){if("undefined"!==typeof e)return!Number.isInteger(+e)||Object.is(parseInt(e),NaN)?"Value must be an integer":void 0},N=(a=19,function(e){return e&&e>a?"Value must be not bigger then ".concat(a):void 0}),k=n(196),w=n(58),C=n(20),y=n.n(C),T=n(197),j=function(e){e.input;var t=e.meta,n=t.touched,a=t.error,o=t.warning,r=e.children,i=n&&a,l=n&&o;return c.a.createElement("div",{className:y.a.formControl+" "+(i?y.a.error:"")+" "+(l?y.a.warning:"")},c.a.createElement("div",{className:""},r),c.a.createElement("div",{className:""},i&&c.a.createElement("span",null,a)||l&&c.a.createElement("span",null,o)))},A=function(e){var t=e.input,n=(e.meta,e.child,Object(w.a)(e,["input","meta","child"]));return c.a.createElement(j,e,c.a.createElement("input",Object.assign({},t,n)))},M=Object(k.a)({form:"SetMapLocation"})((function(e){var t=e.handleSubmit,n=e.pristine,a=e.reset,o=e.submitting,r=e.error;return c.a.createElement("form",{onSubmit:t},function(e,t,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return c.a.createElement("div",{className:""},c.a.createElement(T.a,Object.assign({placeholder:e,name:t,component:n,validate:a},o)),r)}("Write your map scale...","mapScale",A,[N,O]),r&&c.a.createElement("div",{className:y.a.formSummaryError},r),c.a.createElement("div",{className:""},c.a.createElement("button",{type:"submit",disabled:n||o},"Send")),c.a.createElement("div",{className:""},c.a.createElement("button",{type:"button",disabled:n||o,onClick:a},"Clear")))})),I=function(e){var t=e.setMapLinkScale;return c.a.createElement(M,{onSubmit:function(e){parseInt(e.mapScale)&&t(e.mapScale)}})},F=function(e,t,n,a){return"".concat(e,"/#map=").concat(t,"/").concat(n,"/").concat(a)},x=Object(l.d)(Object(u.b)((function(e){return{latitude:e.geoLocation.latitude,longitude:e.geoLocation.longitude,mapLinkScale:e.geoLocation.mapLinkScale,osmBaseLink:e.geoLocation.osmBaseLink,locationStatus:e.geoLocation.locationStatus,isFetchingLocation:e.geoLocation.isFetchingLocation}}),{setMapLinkScale:function(e){return{type:"SET_MAP_LINK_SCALE",mapLinkScale:e}},getMyLocation:function(){return function(){var e=Object(g.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(E(!0)),t(S(b)),navigator.geolocation){e.next=5;break}return t(S(L)),e.abrupt("return",null);case 5:return e.prev=5,e.next=8,new Promise((function(e,t){navigator.geolocation.getCurrentPosition((function(t){e(t)}),(function(e){t(e)}),{timeout:500,enableHighAccuracy:!0})}));case 8:n=e.sent,t((a=n.coords.latitude,o=n.coords.longitude,{type:"SET_MY_LOCATION",latitude:a,longitude:o})),t(S(v)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),t(S(e.t0.message));case 16:t(E(!1));case 17:case"end":return e.stop()}var a,o}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()}}))((function(e){var t=e.locationStatus,n=e.osmBaseLink,a=e.latitude,o=e.longitude,r=e.mapLinkScale,i=e.isFetchingLocation,l=e.getMyLocation,u=e.setMapLinkScale;return c.a.createElement("div",{className:m.a.geolocation},t&&c.a.createElement("p",null," ",t," "),c.a.createElement("button",{className:m.a.find_me,onClick:l,disabled:i},"Show my location"),t===v&&c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Watch my location on site:",c.a.createElement("a",{href:F(n,r,a,o)},function(e,t){return" Latitude: ".concat(e," \xb0, Longitude: ").concat(t," \xb0")}(a,o))),c.a.createElement("p",null,"Current map scale: ",r),c.a.createElement(I,{setMapLinkScale:u})))}));var G=function(){return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},"Geolocation"),c.a.createElement(x,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=n(198),P=n(86),W=Object(l.c)({geoLocation:h,form:B.a}),H=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,U=Object(l.e)(W,H(Object(l.a)(P.a)));window.__store__=U;var V=U;i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(u.a,{store:V},c.a.createElement(G,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},20:function(e,t,n){e.exports={formControl:"FormsControls_formControl__8utRk",error:"FormsControls_error__1GpNx",warning:"FormsControls_warning__Sl-Aw",formSummaryError:"FormsControls_formSummaryError__3LS28"}},54:function(e,t,n){e.exports={geolocation:"Geolocation_geolocation__2ApgH",find_me:"Geolocation_find_me__3XIWv",scaleMapLocation:"Geolocation_scaleMapLocation__j0MM3"}},87:function(e,t,n){e.exports=n(195)},92:function(e,t,n){},93:function(e,t,n){}},[[87,1,2]]]);
//# sourceMappingURL=main.1feb620b.chunk.js.map