(this.webpackJsonpgeosite=this.webpackJsonpgeosite||[]).push([[0],{144:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(14),i=a.n(c),r=(a(62),a(63),a(12)),l=a(9),u=a(29),s=a(31),m=a.n(s),g=a(37),d=a.n(g),p=a(52),_=a(10),f={locationStatus:null,latitude:null,longitude:null,mapMaxScale:14,isFetchingLocation:!1,osmBaseLink:"https://www.openstreetmap.org/"},E=function(e){return{type:"SET_FETCHING_LOCATION",isFetchingLocation:e}},S=function(e){return{type:"SET_LOCATION_STATUS",locationStatus:e}},O="Unable to retrieve your location",L="Locating\u2026",b="Successfully located",h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FETCHING_LOCATION":return Object(_.a)(Object(_.a)({},e),{},{isFetchingLocation:t.isFetchingLocation});case"SET_LOCATION_STATUS":return Object(_.a)(Object(_.a)({},e),{},{locationStatus:t.locationStatus});case"SET_MY_LOCATION":return Object(_.a)(Object(_.a)({},e),{},{latitude:t.latitude,longitude:t.longitude});case"SET_MAP_LINK_SCALE":return Object(_.a)(Object(_.a)({},e),{},{mapMaxScale:t.mapMaxScale});default:return e}},v=a(53),M=a.n(v),T=a(149),x=a(150),j=a(147),w=a(151),N=function(e){var t=e.center,a=e.maxZoom,n=e.position;return o.a.createElement("div",null,o.a.createElement(T.a,{center:t,zoom:a,maxZoom:19,attributionControl:!0,zoomControl:!0,doubleClickZoom:!0,scrollWheelZoom:!0,dragging:!0,animate:!0,className:M.a.leaflet_container},o.a.createElement(x.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),o.a.createElement(j.a,{position:n},o.a.createElement(w.a,null,"\u041c\u044b \u043d\u0430\u0445\u043e\u0434\u0438\u043c\u0441\u044f \u0437\u0434\u0435\u0441\u044c!"))))},C=Object(l.d)(Object(u.b)((function(e){return{latitude:e.geoLocation.latitude,longitude:e.geoLocation.longitude,mapMaxScale:e.geoLocation.mapMaxScale,osmBaseLink:e.geoLocation.osmBaseLink,locationStatus:e.geoLocation.locationStatus,isFetchingLocation:e.geoLocation.isFetchingLocation}}),{setMapMaxScale:function(e){return{type:"SET_MAP_LINK_SCALE",mapMaxScale:e}},getMyLocation:function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(E(!0)),t(S(L)),navigator.geolocation){e.next=5;break}return t(S(O)),e.abrupt("return",null);case 5:return e.prev=5,e.next=8,new Promise((function(e,t){navigator.geolocation.getCurrentPosition((function(t){e(t)}),(function(e){t(e)}),{timeout:2e4,enableHighAccuracy:!0})}));case 8:a=e.sent,t((n=a.coords.latitude,o=a.coords.longitude,{type:"SET_MY_LOCATION",latitude:n,longitude:o})),t(S(b)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),t(S(e.t0.message));case 16:t(E(!1));case 17:case"end":return e.stop()}var n,o}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()}}))((function(e){var t=e.locationStatus,a=(e.osmBaseLink,e.latitude),c=e.longitude,i=e.mapMaxScale,l=e.isFetchingLocation,u=e.getMyLocation,s=function(e,t){var a=Object(n.useState)(e),o=Object(r.a)(a,2),c=o[0],i=o[1];Object(n.useEffect)((function(){i(e)}),[e]);return[function(e){t(parseInt(e.currentTarget.value))},c]}(i,e.setMapMaxScale),g=Object(r.a)(s,2),d=g[0],p=g[1];return o.a.createElement("div",{className:m.a.geolocation},t&&o.a.createElement("p",null," ",t," "),o.a.createElement("button",{className:m.a.find_me,onClick:u,disabled:l},"\u0418 \u0433\u0434\u0435 \u044f \u043d\u0430\u0445\u043e\u0436\u0443\u0441\u044f?"),t===b&&o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"\u041c\u043e\u0438 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b: ",function(e,t){return" \u0428\u0438\u0440\u043e\u043e\u0442\u0430: ".concat(e," \xb0, \u0414\u043e\u043b\u0433\u043e\u0442\u0430: ").concat(t," \xb0")}(a,c)," "),o.a.createElement("p",null,"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0430: \u043f\u0440\u0438\u0431\u043b\u0438\u0436\u0435\u043d\u0438\u0435 \u0432 ",i," \u0440\u0430\u0437 "),o.a.createElement("div",{className:"slidecontainer"},o.a.createElement("input",{type:"range",min:"1",max:"19",value:p,className:m.a.slider,onChange:d})),o.a.createElement(N,{center:[a,c],maxZoom:i,position:[a,c]})))}));var A=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},"Geolocation"),o.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var y=a(148),I=a(54),k=Object(l.c)({geoLocation:h,form:y.a}),F=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,G=Object(l.e)(k,F(Object(l.a)(I.a)));window.__store__=G;var B=G;i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(u.a,{store:B},o.a.createElement(A,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},31:function(e,t,a){e.exports={geolocation:"Geolocation_geolocation__2ApgH",find_me:"Geolocation_find_me__3XIWv",scaleMapLocation:"Geolocation_scaleMapLocation__j0MM3",slider:"Geolocation_slider__a2z06"}},53:function(e,t,a){e.exports={leaflet_container:"GeoMap_leaflet_container__1Px7q"}},57:function(e,t,a){e.exports=a(144)},62:function(e,t,a){},63:function(e,t,a){}},[[57,1,2]]]);
//# sourceMappingURL=main.9223931b.chunk.js.map